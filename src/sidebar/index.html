<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kit IA Emprendedor - Sidebar</title>
  <link rel="stylesheet" href="sidebar.css">
</head>
<body>
  <div class="kitia-sidebar" id="kitia-sidebar">
    <!-- Header -->
    <header class="kitia-header" role="banner">
      <div class="kitia-header-brand">
        <img src="../assets/icon-48.png" alt="Kit IA Emprendedor Logo" class="kitia-logo" width="32" height="32">
        <h1 class="kitia-title">Kit IA Emprendedor</h1>
      </div>
      <div class="kitia-header-controls">
        <button 
          type="button" 
          class="kitia-btn-icon kitia-btn-minimize" 
          id="kitia-minimize-btn"
          aria-label="Minimizar sidebar"
          title="Minimizar">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4 8h8v1H4z"/>
          </svg>
        </button>
        <button 
          type="button" 
          class="kitia-btn-icon kitia-btn-close" 
          id="kitia-close-btn"
          aria-label="Cerrar sidebar"
          title="Cerrar">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Search Bar -->
    <div class="kitia-search-container" role="search">
      <input 
        type="search" 
        class="kitia-search-input" 
        id="kitia-search-input"
        placeholder="Buscar GPTs, prompts..."
        aria-label="Buscar GPTs y prompts"
        autocomplete="off">
      <svg class="kitia-search-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
      </svg>
    </div>

    <!-- Navigation Tabs -->
    <nav class="kitia-tabs" role="tablist" aria-label="Navegación principal">
      <button 
        type="button"
        class="kitia-tab kitia-tab-active" 
        id="kitia-tab-gpts"
        role="tab"
        aria-selected="true"
        aria-controls="kitia-panel-gpts"
        data-tab="gpts">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
        </svg>
        <span>GPTs</span>
      </button>
      <button 
        type="button"
        class="kitia-tab" 
        id="kitia-tab-prompts"
        role="tab"
        aria-selected="false"
        aria-controls="kitia-panel-prompts"
        data-tab="prompts">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
        </svg>
        <span>Prompts</span>
      </button>
      <button 
        type="button"
        class="kitia-tab" 
        id="kitia-tab-favorites"
        role="tab"
        aria-selected="false"
        aria-controls="kitia-panel-favorites"
        data-tab="favorites">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <span>Favoritos</span>
        <span class="kitia-badge" id="kitia-favorites-count">0</span>
      </button>
      <button 
        type="button"
        class="kitia-tab" 
        id="kitia-tab-notifications"
        role="tab"
        aria-selected="false"
        aria-controls="kitia-panel-notifications"
        data-tab="notifications">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
        </svg>
        <span>Notificaciones</span>
        <span class="kitia-badge kitia-badge-alert" id="kitia-notifications-count" hidden>0</span>
      </button>
    </nav>

    <!-- Content Area -->
    <main class="kitia-content" role="main">
      <!-- GPTs Panel -->
      <div class="kitia-panel kitia-panel-active" id="kitia-panel-gpts" role="tabpanel" aria-labelledby="kitia-tab-gpts">
        <!-- Skeleton Loader -->
        <div class="kitia-skeleton-container" id="kitia-gpts-skeleton">
          <div class="kitia-skeleton-item">
            <div class="kitia-skeleton-avatar"></div>
            <div class="kitia-skeleton-content">
              <div class="kitia-skeleton-title"></div>
              <div class="kitia-skeleton-text"></div>
            </div>
          </div>
          <div class="kitia-skeleton-item">
            <div class="kitia-skeleton-avatar"></div>
            <div class="kitia-skeleton-content">
              <div class="kitia-skeleton-title"></div>
              <div class="kitia-skeleton-text"></div>
            </div>
          </div>
          <div class="kitia-skeleton-item">
            <div class="kitia-skeleton-avatar"></div>
            <div class="kitia-skeleton-content">
              <div class="kitia-skeleton-title"></div>
              <div class="kitia-skeleton-text"></div>
            </div>
          </div>
        </div>

        <!-- GPTs List (will be populated by JS) -->
        <div class="kitia-list" id="kitia-gpts-list" hidden></div>

        <!-- Empty State -->
        <div class="kitia-empty-state" id="kitia-gpts-empty" hidden>
          <svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" opacity="0.3">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
          </svg>
          <p>No se encontraron GPTs oficiales</p>
        </div>
      </div>

      <!-- Prompts Panel -->
      <div class="kitia-panel" id="kitia-panel-prompts" role="tabpanel" aria-labelledby="kitia-tab-prompts" hidden>
        <!-- Prompts Header -->
        <div class="kitia-panel-header">
          <button type="button" class="kitia-btn kitia-btn-primary" id="kitia-create-prompt-btn">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2z"/>
            </svg>
            Crear Prompt
          </button>
        </div>

        <!-- Local Storage Notice -->
        <div class="kitia-notice kitia-notice-info">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg>
          <p>Los prompts se guardan localmente en tu navegador</p>
        </div>

        <!-- Prompts List (will be populated by JS) -->
        <div class="kitia-list" id="kitia-prompts-list"></div>

        <!-- Empty State -->
        <div class="kitia-empty-state" id="kitia-prompts-empty">
          <svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" opacity="0.3">
            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
          </svg>
          <p>No tienes prompts guardados</p>
          <button type="button" class="kitia-btn kitia-btn-secondary" id="kitia-create-first-prompt-btn">
            Crear tu primer prompt
          </button>
        </div>
      </div>

      <!-- Favorites Panel -->
      <div class="kitia-panel" id="kitia-panel-favorites" role="tabpanel" aria-labelledby="kitia-tab-favorites" hidden>
        <!-- Favorites List (will be populated by JS) -->
        <div class="kitia-list" id="kitia-favorites-list"></div>

        <!-- Empty State -->
        <div class="kitia-empty-state" id="kitia-favorites-empty">
          <svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" opacity="0.3">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>
          <p>No tienes favoritos guardados</p>
          <p class="kitia-text-secondary">Marca GPTs y prompts como favoritos para acceder rápidamente</p>
        </div>
      </div>

      <!-- Notifications Panel -->
      <div class="kitia-panel" id="kitia-panel-notifications" role="tabpanel" aria-labelledby="kitia-tab-notifications" hidden>
        <!-- Notifications List (will be populated by JS) -->
        <div class="kitia-list" id="kitia-notifications-list"></div>

        <!-- Empty State -->
        <div class="kitia-empty-state" id="kitia-notifications-empty">
          <svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" opacity="0.3">
            <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
          </svg>
          <p>No tienes notificaciones</p>
          <p class="kitia-text-secondary">Recibirás notificaciones sobre nuevos GPTs y actualizaciones</p>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="kitia-footer" role="contentinfo">
      <div class="kitia-footer-info">
        <span class="kitia-version">v1.0.0 LITE</span>
        <span class="kitia-separator">•</span>
        <a href="#" class="kitia-link" id="kitia-help-link">Ayuda</a>
        <span class="kitia-separator">•</span>
        <a href="#" class="kitia-link" id="kitia-feedback-link">Feedback</a>
      </div>
    </footer>
  </div>

  <!-- Create/Edit Prompt Modal -->
  <div class="kitia-modal" id="kitia-prompt-modal" role="dialog" aria-modal="true" aria-labelledby="kitia-prompt-modal-title" hidden>
    <div class="kitia-modal-backdrop" id="kitia-prompt-modal-backdrop"></div>
    <div class="kitia-modal-content">
      <div class="kitia-modal-header">
        <h2 class="kitia-modal-title" id="kitia-prompt-modal-title">Crear Prompt</h2>
        <button 
          type="button" 
          class="kitia-btn-icon kitia-modal-close" 
          id="kitia-prompt-modal-close"
          aria-label="Cerrar modal">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
      <form class="kitia-modal-body" id="kitia-prompt-form">
        <div class="kitia-form-group">
          <label for="kitia-prompt-title" class="kitia-label">Título del Prompt</label>
          <input 
            type="text" 
            class="kitia-input" 
            id="kitia-prompt-title"
            name="title"
            required
            maxlength="100"
            placeholder="Ej: Generador de ideas de negocio">
        </div>
        <div class="kitia-form-group">
          <label for="kitia-prompt-category" class="kitia-label">Categoría</label>
          <select class="kitia-select" id="kitia-prompt-category" name="category" required>
            <option value="">Selecciona una categoría</option>
            <option value="marketing">Marketing</option>
            <option value="ventas">Ventas</option>
            <option value="productividad">Productividad</option>
            <option value="creatividad">Creatividad</option>
            <option value="analisis">Análisis</option>
            <option value="otros">Otros</option>
          </select>
        </div>
        <div class="kitia-form-group">
          <label for="kitia-prompt-content" class="kitia-label">Contenido del Prompt</label>
          <textarea 
            class="kitia-textarea" 
            id="kitia-prompt-content"
            name="content"
            required
            rows="6"
            maxlength="5000"
            placeholder="Escribe tu prompt aquí..."></textarea>
          <div class="kitia-character-count">
            <span id="kitia-prompt-char-count">0</span> / 5000
          </div>
        </div>
        <div class="kitia-form-group">
          <label for="kitia-prompt-tags" class="kitia-label">
            Etiquetas
            <span class="kitia-label-optional">(opcional)</span>
          </label>
          <input 
            type="text" 
            class="kitia-input" 
            id="kitia-prompt-tags"
            name="tags"
            placeholder="Ej: ideas, negocios, estrategia (separadas por comas)">
        </div>
      </form>
      <div class="kitia-modal-footer">
        <button type="button" class="kitia-btn kitia-btn-secondary" id="kitia-prompt-cancel">
          Cancelar
        </button>
        <button type="submit" class="kitia-btn kitia-btn-primary" id="kitia-prompt-save" form="kitia-prompt-form">
          Guardar Prompt
        </button>
      </div>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div class="kitia-modal kitia-modal-small" id="kitia-confirm-modal" role="dialog" aria-modal="true" aria-labelledby="kitia-confirm-title" hidden>
    <div class="kitia-modal-backdrop" id="kitia-confirm-backdrop"></div>
    <div class="kitia-modal-content">
      <div class="kitia-modal-header">
        <h2 class="kitia-modal-title" id="kitia-confirm-title">Confirmar acción</h2>
      </div>
      <div class="kitia-modal-body">
        <p id="kitia-confirm-message">¿Estás seguro de realizar esta acción?</p>
      </div>
      <div class="kitia-modal-footer">
        <button type="button" class="kitia-btn kitia-btn-secondary" id="kitia-confirm-cancel">
          Cancelar
        </button>
        <button type="button" class="kitia-btn kitia-btn-danger" id="kitia-confirm-action">
          Confirmar
        </button>
      </div>
    </div>
  </div>

  <script src="sidebar.js"></script>
</body>
</html>